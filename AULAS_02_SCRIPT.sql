CREATE TABLE CLIENTE(
COD_CLIENTE     NUMBER(8),
NOME_CLIENTE    VARCHAR2(30),
ENDERECO        VARCHAR(25),
CIDADE          VARCHAR2(20),
CEP             VARCHAR(10),
UF              VARCHAR2(2),
    
CONSTRAINT PK_CODIGO_CLIENTE PRIMARY KEY(COD_CLIENTE) 
);

CREATE TABLE VENDEDOR(
COD_VENDEDOR    NUMBER(5),
NOME_VENDEDOR   VARCHAR2(30),
FAIXA_COMISSAO  DECIMAL(4,2),
SALARIO_FIXO    DECIMAL(7,2),

CONSTRAINT PK_CODIGO_VENDEDOR PRIMARY KEY(COD_VENDEDOR)
);

CREATE TABLE PRODUTO(
COD_PRODUTO     NUMBER(3),
DESCRICAO       VARCHAR2(20),
UNIDADE         VARCHAR2(2),
VALOR_UNITARIO  DECIMAL(8,2),

CONSTRAINT PK_CODIGO_PRODUTO PRIMARY KEY(COD_PRODUTO)
);

CREATE TABLE PEDIDO(
NUM_PEDIDO      NUMBER(5),
PRAZO_ENTREGA   DATE,
COD_CLIENTE     NUMBER(5),
COD_VENDEDOR    NUMBER(5),

CONSTRAINT PK_NUMERO_PEDIDO PRIMARY KEY(NUM_PEDIDO)
);

CREATE TABLE ITEM_PEDIDO(
NUM_PEDIDO      NUMBER(5),
COD_PRODUTO     NUMBER(3),
QUANTIDADE      INT,

CONSTRAINT PK_COD_ITEM_PEDIDO PRIMARY KEY(NUM_PEDIDO, COD_PRODUTO)
);

ALTER TABLE PEDIDO
ADD CONSTRAINT FK_CODIGO_CLIENTE
FOREIGN KEY (COD_CLIENTE)
REFERENCES CLIENTE(COD_CLIENTE);

ALTER TABLE PEDIDO
ADD CONSTRAINT FK_CODIGO_VENDEDOR
FOREIGN KEY (COD_VENDEDOR)
REFERENCES VENDEDOR(COD_VENDEDOR);

ALTER TABLE ITEM_PEDIDO
ADD CONSTRAINT FK_NUMERO_PEDIDO
FOREIGN KEY (NUM_PEDIDO)
REFERENCES PEDIDO(NUM_PEDIDO);

ALTER TABLE ITEM_PEDIDO
ADD CONSTRAINT FK_CODIGO_PRODUTO
FOREIGN KEY (COD_PRODUTO)
REFERENCES PRODUTO(COD_PRODUTO);




INSERT INTO CLIENTE
VALUES (12589, 'MARIA CLARA', 'RUA REV. ANTONIO CORREA', 'SOROCABA', '18085180', 'SP');
INSERT INTO CLIENTE
VALUES (12590, 'RENATO MENDES', 'RUA DAS ROSAS', 'SOROCABA', '18085180', 'SP');
INSERT INTO CLIENTE
VALUES (12591, 'LUISA MOREIRA', 'RUA HENRIQUE MACEDO', 'SANTA BARBARA', '18085180', 'CA');
INSERT INTO CLIENTE
VALUES (12592, 'DANIEL OSTER', 'RUA HENRIQUE MACEDO', 'SANTA BARBARA', '18085180', 'CA');
INSERT INTO CLIENTE
VALUES (12593, 'REGINA FALANGE', 'RUA PROF. OLGA DA SILVA', 'CAMPINAS', '18085180', 'SP');
INSERT INTO CLIENTE
VALUES (12594, 'MARCO POLO', 'RUA ALAMEDA DO NORTE', 'CAMPINAS', '18085188', 'SP');

INSERT INTO VENDEDOR
VALUES (98521, 'LUIS CEPEDA', 2.1, 2000.00);
INSERT INTO VENDEDOR
VALUES (98522, 'ANA GUERRA', 1.5, 1800.00);
INSERT INTO VENDEDOR
VALUES (98523, 'ROI MENDEZ', 1.1, 2500.00);
INSERT INTO VENDEDOR
VALUES (98524, 'AMAIA ROMERO', 3.1, 2800.00);
INSERT INTO VENDEDOR
VALUES (98525, 'NEREA RODRIGEZ', 2.1, 1800.00);
INSERT INTO VENDEDOR
VALUES (98526, 'AITANA OCANA', 5.5, 1500.00);

INSERT INTO PRODUTO
VALUES (001, 'VIOLÃO', 'UN', 600.00);
INSERT INTO PRODUTO
VALUES (002, 'PALHETA', 'CX', 45.00);
INSERT INTO PRODUTO
VALUES (003, 'BATERIA', 'UN', 1200.00);
INSERT INTO PRODUTO
VALUES (004, 'PIANO', 'UN', 3000.00);
INSERT INTO PRODUTO
VALUES (005, 'BAQUETA', 'CX', 80.00);
INSERT INTO PRODUTO
VALUES (006, 'PALHETA_B', 'UN', 60.00);
INSERT INTO PRODUTO
VALUES (007, 'PALHETA_C', 'UN', 10.00);

INSERT INTO PEDIDO
VALUES (78945, '20/03/2019', 12589, 98521);
INSERT INTO PEDIDO
VALUES (78946, '25/03/2019', 12590, 98522);
INSERT INTO PEDIDO
VALUES (78947, '28/03/2019', 12591, 98523);
INSERT INTO PEDIDO
VALUES (78948, '30/03/2019', 12592, 98524);
INSERT INTO PEDIDO
VALUES (78949, '02/04/2019', 12593, 98525);
INSERT INTO PEDIDO
VALUES (78950, '18/04/2019', 12593, 98525);
INSERT INTO PEDIDO
VALUES (78951, '27/04/2019', 12589, 98525);
INSERT INTO PEDIDO
VALUES (78952, '27/04/2019', 12593, 98525);

INSERT INTO ITEM_PEDIDO
VALUES (78945, 001, 2);
INSERT INTO ITEM_PEDIDO
VALUES (78945, 004, 4);

INSERT INTO ITEM_PEDIDO
VALUES (78946, 006, 3);
INSERT INTO ITEM_PEDIDO
VALUES (78946, 002, 1);

INSERT INTO ITEM_PEDIDO
VALUES (78947, 005, 2);

INSERT INTO ITEM_PEDIDO
VALUES (78948, 004, 1);

INSERT INTO ITEM_PEDIDO
VALUES (78949, 001, 3);
INSERT INTO ITEM_PEDIDO
VALUES (78949, 003, 2);

INSERT INTO ITEM_PEDIDO
VALUES (78950, 002, 2);
INSERT INTO ITEM_PEDIDO
VALUES (78950, 004, 2);

INSERT INTO ITEM_PEDIDO
VALUES (78951, 004, 2);

INSERT INTO ITEM_PEDIDO
VALUES (78952, 004, 2);



ALTER TABLE PEDIDO
ADD VALOR NUMERIC(6,2);

UPDATE PEDIDO
SET VALOR = 820.9
WHERE NUM_PEDIDO = 78945;
UPDATE PEDIDO
SET VALOR = 1000.0
WHERE NUM_PEDIDO = 78946;
UPDATE PEDIDO
SET VALOR = 250.5
WHERE NUM_PEDIDO = 78947;
UPDATE PEDIDO
SET VALOR = 725.0
WHERE NUM_PEDIDO = 78948;



ALTER TABLE PRODUTO
ADD QTD_ESTOQUE NUMERIC(6,2);

UPDATE PRODUTO
SET QTD_ESTOQUE = 20
WHERE COD_PRODUTO = 1;
UPDATE PRODUTO
SET QTD_ESTOQUE = 50
WHERE COD_PRODUTO = 2;
UPDATE PRODUTO
SET QTD_ESTOQUE = 75
WHERE COD_PRODUTO = 3;
UPDATE PRODUTO
SET QTD_ESTOQUE = 15
WHERE COD_PRODUTO = 4;
UPDATE PRODUTO
SET QTD_ESTOQUE = 100
WHERE COD_PRODUTO = 5;
UPDATE PRODUTO
SET QTD_ESTOQUE = 65
WHERE COD_PRODUTO = 6;



ALTER TABLE CLIENTE
ADD TELEFONE NUMBER; 

UPDATE CLIENTE
SET TELEFONE = 1598564587
WHERE COD_CLIENTE = 12589;
UPDATE CLIENTE
SET TELEFONE = 1512547896
WHERE COD_CLIENTE = 12590;
UPDATE CLIENTE
SET TELEFONE = 1132567854
WHERE COD_CLIENTE = 12591;
UPDATE CLIENTE
SET TELEFONE = 1125698548
WHERE COD_CLIENTE = 12592;
UPDATE CLIENTE
SET TELEFONE = 1536524875
WHERE COD_CLIENTE = 12593;
UPDATE CLIENTE
SET TELEFONE = 1536589658
WHERE COD_CLIENTE = 12594;



ALTER TABLE ITEM_PEDIDO
ADD VALOR NUMBER(6,2);

UPDATE ITEM_PEDIDO
SET VALOR = 1200.0
WHERE NUM_PEDIDO = 78945 AND COD_PRODUTO = 1;
UPDATE ITEM_PEDIDO
SET VALOR = 12000.0
WHERE NUM_PEDIDO = 78945 AND COD_PRODUTO = 4;

UPDATE ITEM_PEDIDO
SET VALOR = 180.0
WHERE NUM_PEDIDO = 78946 AND COD_PRODUTO = 6;
UPDATE ITEM_PEDIDO
SET VALOR = 45.0
WHERE NUM_PEDIDO = 78946 AND COD_PRODUTO = 2;

UPDATE ITEM_PEDIDO
SET VALOR = 160.0
WHERE NUM_PEDIDO = 78947 AND COD_PRODUTO = 5;

UPDATE ITEM_PEDIDO
SET VALOR = 3000.0
WHERE NUM_PEDIDO = 78948 AND COD_PRODUTO = 4;

UPDATE ITEM_PEDIDO
SET VALOR = 1800.0
WHERE NUM_PEDIDO = 78949 AND COD_PRODUTO = 1;
UPDATE ITEM_PEDIDO
SET VALOR = 2400.0
WHERE NUM_PEDIDO = 78949 AND COD_PRODUTO = 3;

UPDATE ITEM_PEDIDO
SET VALOR = 90.0
WHERE NUM_PEDIDO = 78950 AND COD_PRODUTO = 2;
UPDATE ITEM_PEDIDO
SET VALOR = 6000.0
WHERE NUM_PEDIDO = 78950 AND COD_PRODUTO = 4;

UPDATE ITEM_PEDIDO
SET VALOR = 6000.0
WHERE NUM_PEDIDO = 78951 AND COD_PRODUTO = 4;

UPDATE ITEM_PEDIDO
SET VALOR = 6000.0
WHERE NUM_PEDIDO = 78952 AND COD_PRODUTO = 4;